<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="tablecomponent.html">
<dom-module id="records-list">
  <template>
    <style>
      table-component {
        --table-content-margins:{
          margin-left:5px;
          margin-right:5px;
          margin-top:20px;
          margin-bottom:20px;
        };
      }
    </style>
     <table-component id="theTable"></table-component>
  </template>
  <script>
    Polymer({
      is: 'records-list',
      properties : {
        recordsdata : {
          type : Object,
          observer : 'recordsdataHandler'
        }
       },
       attached: function() {
         if (!this._initialized){
           var request =  {action : 'get', table : 'records', filter :{}};
           var query = { requester : this, property : 'recordsdata', request :request };
           this.fire('query', query);
           this._initialized = true;
         }
       },
       recordsdataHandler: function(recordsdata) {
        var tableData = {};
        tableData.headerProperties = ["epreuve","temps","age","lieu","date"];
        tableData.headerValues = ["Epreuve","Temps","Age","Lieu","Date"];
        tableData.width = ["20%","20%","20%","20%","20%"];
        tableData.minwidth = ["100px","100px","100px","100px","100px"];
        tableData.values = recordsdata;
        this.$.theTable.dataTable = tableData;
      }
    });
  </script>
</dom-module>
